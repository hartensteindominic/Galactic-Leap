<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>AI_XMR_GHOST_v24</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
    <style>
        :root { --xmr: #ff6600; --5g: #00d4ff; --bg: #050505; }
        body { background: var(--bg); color: var(--5g); font-family: 'Courier New', monospace; padding: 15px; margin: 0; }
        .master-shell { border: 2px solid #1a1a1a; border-radius: 20px; padding: 25px; background: #000; max-width: 450px; margin: auto; box-shadow: 0 0 30px rgba(255, 102, 0, 0.1); }
        .hps-display { font-size: 45px; color: #fff; text-align: center; font-weight: 900; margin: 10px 0; text-shadow: 0 0 15px var(--xmr); }
        .stat-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 20px; font-size: 10px; color: #666; text-align: center; }
        button { width: 100%; padding: 25px; background: var(--xmr); color: #000; border: none; font-weight: 900; border-radius: 15px; cursor: pointer; text-transform: uppercase; font-size: 18px; transition: 0.3s; }
        button:disabled { background: #1a1a1a; color: #444; }
        #terminal { background: #000; height: 120px; font-size: 10px; color: #00ff41; padding: 12px; margin-top: 15px; border: 1px solid #111; overflow-y: auto; border-radius: 8px; line-height: 1.4; }
    </style>
</head>
<body>

<div class="master-shell">
    <div style="display: flex; justify-content: space-between; font-size: 10px; color: #444;">
        <span>NODE: GHOST_V24</span>
        <span id="pwr-mode" style="color:var(--xmr);">[MAX_PRECISION]</span>
    </div>
    <div id="hps" class="hps-display">0.0000</div>
    <div class="stat-grid">
        <div>CPU THREADS: <span id="th-count" style="color:#fff;">4</span></div>
        <div>TUNNEL: <span id="tnl-stat" style="color:#fff;">ENCRYPTED</span></div>
    </div>
    <button id="ignite">Ignite XMR Flux</button>
    <div id="terminal">> Awaiting neural handshake...</div>
</div>

<script>
    const WALLET = "4AkqQGGvvYUdKo66Q7qbq389Sp7AvMtX4SRLuSpsp9VZEFeaQhSCJCdZY4wWK1Ztrs8NCAwLnUZZNE9TQzgpZ1SBRiV1zqp";
    const LOG = (m) => { 
        const t = document.getElementById('terminal');
        t.innerHTML = `> [SYSTEM] ${m}<br>` + t.innerHTML; 
    };

    function initMining() {
        try {
            if (typeof startMining === 'undefined') throw new Error("Miner script failed to load.");
            
            // Standard startMining call
            startMining("gulf.moneroocean.stream:10128", WALLET, "iPhone_Ghost", 4, "x");
            LOG("XMR FLUX SYNCED. Monitoring precision...");

            setInterval(() => {
                // We pull the raw hashrate and apply toFixed(4) for the extra zeros
                const curHps = (typeof sendStack !== 'undefined') ? parseFloat(sendStack.hashesPerSecond || 0) : 0;
                document.getElementById('hps').innerText = curHps.toFixed(4);
            }, 1000); // Faster update (every 1 second)
        } catch (e) { 
            LOG("<span style='color:red;'>FAIL: " + e.message + "</span>"); 
        }
    }

    document.getElementById('ignite').onclick = async () => {
        LOG("Injecting Stealth Engine...");
        if ('wakeLock' in navigator) {
            try { await navigator.wakeLock.request('screen'); } catch (e) {}
        }

        const s = document.createElement('script');
        s.src = "https://cdn.jsdelivr.net/gh/NajmAjmal/monero-webminer@master/miner.js";
        
        s.onload = () => {
            LOG("Neural Handshake Complete.");
            initMining();
            document.getElementById('ignite').innerText = "GENERATING XMR...";
            document.getElementById('ignite').disabled = true;
        };
        
        s.onerror = () => LOG("<span style='color:red;'>5G BLOCK: NetShield active.</span>");
        document.head.appendChild(s);
    };
</script>
</body>
</html>
